{"ast":null,"code":"import _asyncToGenerator from\"E:/Git Repositories/Project-3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Git Repositories/Project-3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\Git Repositories\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{useMutation}from'@apollo/client';import{ADD_SKILL}from'../../utils/mutations';import Auth from'../../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SkillForm=function SkillForm(_ref){var profileId=_ref.profileId;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),skill=_useState2[0],setSkill=_useState2[1];var _useMutation=useMutation(ADD_SKILL),_useMutation2=_slicedToArray(_useMutation,2),addSkill=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addSkill({variables:{profileId:profileId,skill:skill}});case 4:data=_context.sent;setSkill('');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Endorse some more skills below.\"}),Auth.loggedIn()?/*#__PURE__*/_jsxs(\"form\",{className:\"flex-row justify-center justify-space-between-md align-center\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-9\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Endorse some skills...\",value:skill,className:\"form-input w-100\",onChange:function onChange(event){return setSkill(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info btn-block py-3\",type:\"submit\",children:\"Endorse Skill\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12 my-3 bg-danger text-white p-3\",children:error.message})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"You need to be logged in to endorse skills. Please\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"login\"}),\" or \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"signup.\"})]})]});};export default SkillForm;","map":{"version":3,"sources":["E:/Git Repositories/Project-3/client/src/components/SkillForm/index.js"],"names":["React","useState","Link","useMutation","ADD_SKILL","Auth","SkillForm","profileId","skill","setSkill","addSkill","error","handleFormSubmit","event","preventDefault","variables","data","console","loggedIn","target","value","message"],"mappings":"yXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,gBAA5B,CAEA,OAASC,SAAT,KAA0B,uBAA1B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,kBAAjB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,CACnC,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEA,iBAA8BN,WAAW,CAACC,SAAD,CAAzC,8CAAOM,QAAP,kBAAmBC,KAAnB,kBAAmBA,KAAnB,CAEA,GAAMC,CAAAA,gBAAgB,2FAAG,iBAAOC,KAAP,2HACvBA,KAAK,CAACC,cAAN,GADuB,sCAIFJ,CAAAA,QAAQ,CAAC,CAC1BK,SAAS,CAAE,CAAER,SAAS,CAATA,SAAF,CAAaC,KAAK,CAALA,KAAb,CADe,CAAD,CAJN,QAIfQ,IAJe,eAQrBP,QAAQ,CAAC,EAAD,CAAR,CARqB,+EAUrBQ,OAAO,CAACN,KAAR,cAVqB,oEAAH,kBAAhBC,CAAAA,gBAAgB,6CAAtB,CAcA,mBACE,oCACE,uDADF,CAGGP,IAAI,CAACa,QAAL,gBACC,cACE,SAAS,CAAC,+DADZ,CAEE,QAAQ,CAAEN,gBAFZ,wBAIE,YAAK,SAAS,CAAC,iBAAf,uBACE,cACE,WAAW,CAAC,wBADd,CAEE,KAAK,CAAEJ,KAFT,CAGE,SAAS,CAAC,kBAHZ,CAIE,QAAQ,CAAE,kBAACK,KAAD,QAAWJ,CAAAA,QAAQ,CAACI,KAAK,CAACM,MAAN,CAAaC,KAAd,CAAnB,EAJZ,EADF,EAJF,cAaE,YAAK,SAAS,CAAC,iBAAf,uBACE,eAAQ,SAAS,CAAC,6BAAlB,CAAgD,IAAI,CAAC,QAArD,2BADF,EAbF,CAkBGT,KAAK,eACJ,YAAK,SAAS,CAAC,sCAAf,UACGA,KAAK,CAACU,OADT,EAnBJ,GADD,cA0BC,0EACqD,GADrD,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBAFF,qBAEoC,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,qBAFpC,GA7BJ,GADF,CAqCD,CAxDD,CA0DA,cAAef,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport { ADD_SKILL } from '../../utils/mutations';\r\n\r\nimport Auth from '../../utils/auth';\r\n\r\nconst SkillForm = ({ profileId }) => {\r\n  const [skill, setSkill] = useState('');\r\n\r\n  const [addSkill, { error }] = useMutation(ADD_SKILL);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const data = await addSkill({\r\n        variables: { profileId, skill },\r\n      });\r\n\r\n      setSkill('');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h4>Endorse some more skills below.</h4>\r\n\r\n      {Auth.loggedIn() ? (\r\n        <form\r\n          className=\"flex-row justify-center justify-space-between-md align-center\"\r\n          onSubmit={handleFormSubmit}\r\n        >\r\n          <div className=\"col-12 col-lg-9\">\r\n            <input\r\n              placeholder=\"Endorse some skills...\"\r\n              value={skill}\r\n              className=\"form-input w-100\"\r\n              onChange={(event) => setSkill(event.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-12 col-lg-3\">\r\n            <button className=\"btn btn-info btn-block py-3\" type=\"submit\">\r\n              Endorse Skill\r\n            </button>\r\n          </div>\r\n          {error && (\r\n            <div className=\"col-12 my-3 bg-danger text-white p-3\">\r\n              {error.message}\r\n            </div>\r\n          )}\r\n        </form>\r\n      ) : (\r\n        <p>\r\n          You need to be logged in to endorse skills. Please{' '}\r\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkillForm;\r\n"]},"metadata":{},"sourceType":"module"}