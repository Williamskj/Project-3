{"ast":null,"code":"import _asyncToGenerator from\"E:/Git Repositories/Project-3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Git Repositories/Project-3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\Git Repositories\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import{useMutation}from'@apollo/client';import{REMOVE_SKILL}from'../../utils/mutations';import{QUERY_ME}from'../../utils/queries';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SkillsList=function SkillsList(_ref){var skills=_ref.skills,_ref$isLoggedInUser=_ref.isLoggedInUser,isLoggedInUser=_ref$isLoggedInUser===void 0?false:_ref$isLoggedInUser;var _useMutation=useMutation(REMOVE_SKILL,{update:function update(cache,_ref2){var removeSkill=_ref2.data.removeSkill;try{cache.writeQuery({query:QUERY_ME,data:{me:removeSkill}});}catch(e){console.error(e);}}}),_useMutation2=_slicedToArray(_useMutation,2),removeSkill=_useMutation2[0],error=_useMutation2[1].error;var handleRemoveSkill=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(skill){var _yield$removeSkill,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return removeSkill({variables:{skill:skill}});case 3:_yield$removeSkill=_context.sent;data=_yield$removeSkill.data;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleRemoveSkill(_x){return _ref3.apply(this,arguments);};}();if(!skills.length){return/*#__PURE__*/_jsx(\"h3\",{children:\"No Skills Yet\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-row justify-space-between my-4\",children:skills&&skills.map(function(skill){return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-xl-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"card-header bg-dark text-light p-2 m-0 display-flex align-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:skill}),isLoggedInUser&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger ml-auto\",onClick:function onClick(){return handleRemoveSkill(skill);},children:\"X\"})]})})},skill);})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"my-3 p-3 bg-danger text-white\",children:error.message})]});};export default SkillsList;","map":{"version":3,"sources":["E:/Git Repositories/Project-3/client/src/components/SkillsList/index.js"],"names":["React","useMutation","REMOVE_SKILL","QUERY_ME","SkillsList","skills","isLoggedInUser","update","cache","removeSkill","data","writeQuery","query","me","e","console","error","handleRemoveSkill","skill","variables","length","map","message"],"mappings":"yXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,gBAA5B,CAEA,OAASC,YAAT,KAA6B,uBAA7B,CACA,OAASC,QAAT,KAAyB,qBAAzB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAwC,IAArCC,CAAAA,MAAqC,MAArCA,MAAqC,0BAA7BC,cAA6B,CAA7BA,cAA6B,8BAAZ,KAAY,qBACzD,iBAAiCL,WAAW,CAACC,YAAD,CAAe,CACzDK,MADyD,iBAClDC,KADkD,OAChB,IAAjBC,CAAAA,WAAiB,OAAzBC,IAAyB,CAAjBD,WAAiB,CACvC,GAAI,CACFD,KAAK,CAACG,UAAN,CAAiB,CACfC,KAAK,CAAET,QADQ,CAEfO,IAAI,CAAE,CAAEG,EAAE,CAAEJ,WAAN,CAFS,CAAjB,EAID,CAAC,MAAOK,CAAP,CAAU,CACVC,OAAO,CAACC,KAAR,CAAcF,CAAd,EACD,CACF,CAVwD,CAAf,CAA5C,8CAAOL,WAAP,kBAAsBO,KAAtB,kBAAsBA,KAAtB,CAaA,GAAMC,CAAAA,iBAAiB,2FAAG,iBAAOC,KAAP,oLAECT,CAAAA,WAAW,CAAC,CACjCU,SAAS,CAAE,CAAED,KAAK,CAALA,KAAF,CADsB,CAAD,CAFZ,yCAEdR,IAFc,oBAEdA,IAFc,gFAMtBK,OAAO,CAACC,KAAR,cANsB,oEAAH,kBAAjBC,CAAAA,iBAAiB,6CAAvB,CAUA,GAAI,CAACZ,MAAM,CAACe,MAAZ,CAAoB,CAClB,mBAAO,qCAAP,CACD,CAED,mBACE,oCACE,YAAK,SAAS,CAAC,qCAAf,UACGf,MAAM,EACLA,MAAM,CAACgB,GAAP,CAAW,SAACH,KAAD,qBACT,YAAiB,SAAS,CAAC,iBAA3B,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAI,SAAS,CAAC,kEAAd,wBACE,sBAAOA,KAAP,EADF,CAEGZ,cAAc,eACb,eACE,SAAS,CAAC,+BADZ,CAEE,OAAO,CAAE,yBAAMW,CAAAA,iBAAiB,CAACC,KAAD,CAAvB,EAFX,eAHJ,GADF,EADF,EAAUA,KAAV,CADS,EAAX,CAFJ,EADF,CAqBGF,KAAK,eACJ,YAAK,SAAS,CAAC,+BAAf,UAAgDA,KAAK,CAACM,OAAtD,EAtBJ,GADF,CA2BD,CAvDD,CAyDA,cAAelB,CAAAA,UAAf","sourcesContent":["import React from 'react';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport { REMOVE_SKILL } from '../../utils/mutations';\r\nimport { QUERY_ME } from '../../utils/queries';\r\n\r\nconst SkillsList = ({ skills, isLoggedInUser = false }) => {\r\n  const [removeSkill, { error }] = useMutation(REMOVE_SKILL, {\r\n    update(cache, { data: { removeSkill } }) {\r\n      try {\r\n        cache.writeQuery({\r\n          query: QUERY_ME,\r\n          data: { me: removeSkill },\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n  });\r\n\r\n  const handleRemoveSkill = async (skill) => {\r\n    try {\r\n      const { data } = await removeSkill({\r\n        variables: { skill },\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (!skills.length) {\r\n    return <h3>No Skills Yet</h3>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex-row justify-space-between my-4\">\r\n        {skills &&\r\n          skills.map((skill) => (\r\n            <div key={skill} className=\"col-12 col-xl-6\">\r\n              <div className=\"card mb-3\">\r\n                <h4 className=\"card-header bg-dark text-light p-2 m-0 display-flex align-center\">\r\n                  <span>{skill}</span>\r\n                  {isLoggedInUser && (\r\n                    <button\r\n                      className=\"btn btn-sm btn-danger ml-auto\"\r\n                      onClick={() => handleRemoveSkill(skill)}\r\n                    >\r\n                      X\r\n                    </button>\r\n                  )}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      {error && (\r\n        <div className=\"my-3 p-3 bg-danger text-white\">{error.message}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkillsList;\r\n"]},"metadata":{},"sourceType":"module"}